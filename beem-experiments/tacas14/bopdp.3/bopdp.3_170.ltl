!([](IOP!="wait_response") && ((!(some_interrupt<=17) && ([](Calc!="calc_running") R ((IOP!="send_nack") || [](Calc!="calc_running")))) || ((some_interrupt<=17) && (<>!(Calc!="calc_running") U (!(IOP!="send_nack") && <>!(Calc!="calc_running"))))))
